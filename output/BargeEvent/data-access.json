{
  "entity": "BargeEvent",
  "primaryEntity": "TicketEvent",
  "description": "BargeEvent is a composite object that manages TicketEvent records. The underlying database entity is TicketEvent. BargeEvent serves as a wrapper that coordinates multiple child entities (Barges, BoatDelays, BoatTraffic, etc.).",
  "softDelete": true,
  "hasIsActive": false,
  "hasVoidStatus": true,
  "deleteStrategy": "Uses VoidStatus field instead of IsActive for soft delete functionality",
  "storedProcedures": [
    {
      "name": "TicketEventSelect",
      "operation": "GetById",
      "description": "Fetch single TicketEvent record by ID",
      "parameters": [
        {
          "name": "@TicketEventID",
          "type": "int",
          "required": true,
          "description": "Primary key of the TicketEvent"
        }
      ],
      "resultColumns": [
        {"column": "TicketEventID", "property": "TicketEventID", "type": "int"},
        {"column": "TicketID", "property": "TicketID", "type": "int"},
        {"column": "EventTypeID", "property": "EventTypeID", "type": "int"},
        {"column": "Status", "property": "Status", "type": "smallint"},
        {"column": "BillableStatus", "property": "BillableStatus", "type": "tinyint"},
        {"column": "VoidStatus", "property": "VoidStatus", "type": "tinyint"},
        {"column": "LoadStatus", "property": "LoadStatus", "type": "varchar"},
        {"column": "StartDateTime", "property": "StartDateTime", "type": "datetime"},
        {"column": "CompleteDateTime", "property": "CompleteDateTime", "type": "datetime"},
        {"column": "SchedStartDateTime", "property": "SchedStartDateTime", "type": "datetime"},
        {"column": "SchedCompleteDateTime", "property": "SchedCompleteDateTime", "type": "datetime"},
        {"column": "FromLocationID", "property": "FromLocationID", "type": "int"},
        {"column": "ToLocationID", "property": "ToLocationID", "type": "int"},
        {"column": "BillingCustomerID", "property": "BillingCustomerID", "type": "int"},
        {"column": "EventRateID", "property": "EventRateID", "type": "int"},
        {"column": "RateType", "property": "RateType", "type": "varchar"},
        {"column": "BaseRate", "property": "BaseRate", "type": "money"},
        {"column": "ChargeType", "property": "ChargeType", "type": "tinyint"},
        {"column": "Minimum", "property": "Minimum", "type": "int"},
        {"column": "ProrateUnits", "property": "ProrateUnits", "type": "int"},
        {"column": "HighWaterRate", "property": "HighWaterRate", "type": "decimal"},
        {"column": "HighWaterAmount", "property": "HighWaterAmount", "type": "money"},
        {"column": "FuelEscalationRate", "property": "FuelEscalationRate", "type": "decimal"},
        {"column": "FuelEscalationAmount", "property": "FuelEscalationAmount", "type": "money"},
        {"column": "LaborEscalationRate", "property": "LaborEscalationRate", "type": "decimal"},
        {"column": "LaborEscalationAmount", "property": "LaborEscalationAmount", "type": "money"},
        {"column": "BaseFleetDays", "property": "BaseFleetDays", "type": "int"},
        {"column": "BaseAmount", "property": "BaseAmount", "type": "money"},
        {"column": "ExtFleetDays1", "property": "ExtFleetDays1", "type": "int"},
        {"column": "ExtFleetRate1", "property": "ExtFleetRate1", "type": "money"},
        {"column": "ExtFleetAmount1", "property": "ExtFleetAmount1", "type": "money"},
        {"column": "ExtFleetDays2", "property": "ExtFleetDays2", "type": "int"},
        {"column": "ExtFleetRate2", "property": "ExtFleetRate2", "type": "money"},
        {"column": "ExtFleetAmount2", "property": "ExtFleetAmount2", "type": "money"},
        {"column": "TotalAmount", "property": "TotalAmount", "type": "money"},
        {"column": "InvoiceNote", "property": "InvoiceNote", "type": "varchar"},
        {"column": "InvoiceID", "property": "InvoiceID", "type": "int"},
        {"column": "CommodityID", "property": "CommodityID", "type": "int"},
        {"column": "BargeDraft", "property": "BargeDraft", "type": "decimal"},
        {"column": "BargeDraftPortBow", "property": "BargeDraftPortBow", "type": "decimal"},
        {"column": "BargeDraftPortStern", "property": "BargeDraftPortStern", "type": "decimal"},
        {"column": "BargeDraftStarboardBow", "property": "BargeDraftStarboardBow", "type": "decimal"},
        {"column": "BargeDraftStarboardStern", "property": "BargeDraftStarboardStern", "type": "decimal"},
        {"column": "CpDateTime", "property": "CpDateTime", "type": "datetime"},
        {"column": "ReleaseDateTime", "property": "ReleaseDateTime", "type": "datetime"},
        {"column": "FreightRate", "property": "FreightRate", "type": "money"},
        {"column": "FreightQuantity", "property": "FreightQuantity", "type": "decimal"},
        {"column": "FreightAmount", "property": "FreightAmount", "type": "money"},
        {"column": "FreightAllowanceRate", "property": "FreightAllowanceRate", "type": "money"},
        {"column": "FreightAllowanceQuantity", "property": "FreightAllowanceQuantity", "type": "decimal"},
        {"column": "IsManualFreightRate", "property": "IsManualFreightRate", "type": "bit"},
        {"column": "FreightTotalAmount", "property": "FreightTotalAmount", "type": "money"},
        {"column": "FreightInvoiceNote", "property": "FreightInvoiceNote", "type": "varchar"},
        {"column": "TrainNum", "property": "TrainNum", "type": "varchar"},
        {"column": "Surveyor", "property": "Surveyor", "type": "varchar"},
        {"column": "DocumentID", "property": "DocumentID", "type": "int"},
        {"column": "DraftRequested", "property": "DraftRequested", "type": "decimal"},
        {"column": "DraftCalculated", "property": "DraftCalculated", "type": "decimal"},
        {"column": "DestinationLocationID", "property": "DestinationLocationID", "type": "int"},
        {"column": "DestinationRiverAreaID", "property": "DestinationRiverAreaID", "type": "int"},
        {"column": "DraftAverage", "property": "DraftAverage", "type": "decimal"},
        {"column": "AdjustmentTons", "property": "AdjustmentTons", "type": "decimal"},
        {"column": "BargesInTowCount", "property": "BargesInTowCount", "type": "int"},
        {"column": "MinimumAmount", "property": "MinimumAmount", "type": "money"},
        {"column": "FreeHours", "property": "FreeHours", "type": "decimal"},
        {"column": "DivideByBargesInTow", "property": "DivideByBargesInTow", "type": "bit"},
        {"column": "TowingTons", "property": "TowingTons", "type": "decimal"},
        {"column": "TowingDistanceMiles", "property": "TowingDistanceMiles", "type": "decimal"},
        {"column": "FreightMinimumQuantity", "property": "FreightMinimumQuantity", "type": "decimal"},
        {"column": "Division", "property": "Division", "type": "varchar"},
        {"column": "IsTrampTow", "property": "IsTrampTow", "type": "bit"},
        {"column": "VendorID", "property": "VendorID", "type": "int"},
        {"column": "CoverType", "property": "CoverType", "type": "varchar"},
        {"column": "CoverConfig", "property": "CoverConfig", "type": "varchar"},
        {"column": "CoverSubTypeID", "property": "CoverSubTypeID", "type": "int"},
        {"column": "MaxFleetingDays", "property": "MaxFleetingDays", "type": "int"},
        {"column": "RigID", "property": "RigID", "type": "int"},
        {"column": "WaitDateTime", "property": "WaitDateTime", "type": "datetime"},
        {"column": "FreightAllowanceAmount", "property": "FreightAllowanceAmount", "type": "money"},
        {"column": "IsDefaultTons", "property": "IsDefaultTons", "type": "bit"},
        {"column": "FreightRateType", "property": "FreightRateType", "type": "varchar"},
        {"column": "ApplyTowAveraging", "property": "ApplyTowAveraging", "type": "bit"},
        {"column": "ApplyFreeMaxFleetingDaysPerEvent", "property": "ApplyFreeMaxFleetingDaysPerEvent", "type": "bit"},
        {"column": "BargeExVendorControlNumber", "property": "BargeExVendorControlNumber", "type": "varchar"},
        {"column": "TankDockedDateTime", "property": "TankDockedDateTime", "type": "datetime"},
        {"column": "TankCargoHoseOnDateTime", "property": "TankCargoHoseOnDateTime", "type": "datetime"},
        {"column": "TankStartTransferDateTime", "property": "TankStartTransferDateTime", "type": "datetime"},
        {"column": "TankFinishedTransferDateTime", "property": "TankFinishedTransferDateTime", "type": "datetime"},
        {"column": "TankCargoHoseOffDateTime", "property": "TankCargoHoseOffDateTime", "type": "datetime"},
        {"column": "TankBargeReleasedDateTime", "property": "TankBargeReleasedDateTime", "type": "datetime"},
        {"column": "TankQuantityTransferred", "property": "TankQuantityTransferred", "type": "decimal"},
        {"column": "TankQuantityUnits", "property": "TankQuantityUnits", "type": "varchar"},
        {"column": "Rebill", "property": "Rebill", "type": "bit"},
        {"column": "RebillOverride", "property": "RebillOverride", "type": "bit"},
        {"column": "ExternalInvoiceNumber", "property": "ExternalInvoiceNumber", "type": "varchar"},
        {"column": "ExternalInvoiceDate", "property": "ExternalInvoiceDate", "type": "datetime"},
        {"column": "IsInvoicedExternally", "property": "IsInvoicedExternally", "type": "bit"},
        {"column": "VendorBusinessUnitID", "property": "VendorBusinessUnitID", "type": "int"},
        {"column": "IsPortShift", "property": "IsPortShift", "type": "bit"},
        {"column": "CreateDateTime", "property": "CreateDateTime", "type": "datetime"},
        {"column": "CreateUser", "property": "CreateUser", "type": "varchar"},
        {"column": "ModifyDateTime", "property": "ModifyDateTime", "type": "datetime"},
        {"column": "ModifyUser", "property": "ModifyUser", "type": "varchar"}
      ]
    },
    {
      "name": "TicketEventsSelect",
      "operation": "GetAll",
      "description": "Fetch all TicketEvent records for a parent Ticket",
      "parameters": [
        {
          "name": "@TicketID",
          "type": "int",
          "required": true,
          "description": "Parent Ticket ID"
        }
      ],
      "resultColumns": "Same as TicketEventSelect"
    },
    {
      "name": "BargeEventSearch",
      "operation": "Search",
      "description": "Search barge events with complex filtering criteria",
      "parameters": [
        {
          "name": "@FleetID",
          "type": "int",
          "required": true,
          "description": "Fleet identifier"
        },
        {
          "name": "@EventRateID",
          "type": "int",
          "required": false,
          "description": "Event rate filter"
        },
        {
          "name": "@EventTypeID",
          "type": "int",
          "required": false,
          "description": "Event type filter"
        },
        {
          "name": "@BillingCustomerID",
          "type": "int",
          "required": false,
          "description": "Billing customer filter"
        },
        {
          "name": "@FromLocationID",
          "type": "int",
          "required": false,
          "description": "From location filter"
        },
        {
          "name": "@ToLocationID",
          "type": "int",
          "required": false,
          "description": "To location filter"
        },
        {
          "name": "@FleetBoatID",
          "type": "int",
          "required": false,
          "description": "Fleet boat filter"
        },
        {
          "name": "@StartDate",
          "type": "datetime",
          "required": false,
          "description": "Start date range filter"
        },
        {
          "name": "@EndDate",
          "type": "datetime",
          "required": false,
          "description": "End date range filter"
        },
        {
          "name": "@IncludeVoided",
          "type": "bit",
          "required": true,
          "description": "Whether to include voided events"
        },
        {
          "name": "@ContractNumber",
          "type": "varchar",
          "required": false,
          "description": "Contract number filter"
        },
        {
          "name": "@BargeList",
          "type": "varchar",
          "required": false,
          "description": "Comma-separated list of barge numbers"
        },
        {
          "name": "@BargeLineCustomerID",
          "type": "int",
          "required": false,
          "description": "Barge line customer filter"
        },
        {
          "name": "@FreightCustomerID",
          "type": "int",
          "required": false,
          "description": "Freight customer filter"
        }
      ],
      "resultColumns": [
        {"column": "FleetID", "property": "FleetID", "type": "int"},
        {"column": "EventRateID", "property": "EventRateID", "type": "string"},
        {"column": "TicketEventID", "property": "TicketEventID", "type": "int"},
        {"column": "EventTypeID", "property": "EventTypeID", "type": "int"},
        {"column": "EventName", "property": "EventName", "type": "string"},
        {"column": "BargeID", "property": "BargeID", "type": "int"},
        {"column": "BargeNum", "property": "BargeNum", "type": "string"},
        {"column": "TicketID", "property": "TicketID", "type": "int"},
        {"column": "StartDateTime", "property": "StartDateTime", "type": "datetime"},
        {"column": "CompleteDateTime", "property": "CompleteDateTime", "type": "datetime"},
        {"column": "CpDateTime", "property": "CpDateTime", "type": "datetime"},
        {"column": "ReleaseDateTime", "property": "ReleaseDateTime", "type": "datetime"},
        {"column": "StartLocation", "property": "StartLocation", "type": "string"},
        {"column": "EndLocation", "property": "EndLocation", "type": "string"},
        {"column": "FreightOrigin", "property": "FreightOrigin", "type": "string"},
        {"column": "FreightDestination", "property": "FreightDestination", "type": "string"},
        {"column": "LoadStatus", "property": "LoadStatus", "type": "string"},
        {"column": "CommodityName", "property": "CommodityName", "type": "string"},
        {"column": "LoadUnloadTons", "property": "LoadUnloadTons", "type": "string", "formatting": "FmtTwoDecimalPlaces"},
        {"column": "CustomerName", "property": "CustomerName", "type": "string"},
        {"column": "FreightCustomerName", "property": "FreightCustomerName", "type": "string"},
        {"column": "TicketCustomerName", "property": "TicketCustomerName", "type": "string"},
        {"column": "ContractNumber", "property": "ContractNumber", "type": "string"},
        {"column": "ServicingBoat", "property": "ServicingBoat", "type": "string"},
        {"column": "Division", "property": "Division", "type": "string"},
        {"column": "SchedTime", "property": "SchedTime", "type": "datetime"},
        {"column": "EventTime", "property": "EventTime", "type": "datetime"},
        {"column": "Void", "property": "Void", "type": "bool"},
        {"column": "IsDefaultTons", "property": "IsDefaultTons", "type": "bool"},
        {"column": "IsInvoiced", "property": "IsInvoiced", "type": "bool"},
        {"column": "Rebill", "property": "Rebill", "type": "bool"},
        {"column": "Vendor", "property": "Vendor", "type": "string"},
        {"column": "VendorBusinessUnit", "property": "VendorBusinessUnit", "type": "string"},
        {"column": "IsPortShift", "property": "IsPortShift", "type": "bool"}
      ]
    },
    {
      "name": "BargeEventBillingSearch",
      "operation": "BillingSearch",
      "description": "Search barge events for billing purposes with financial data",
      "parameters": [
        {
          "name": "@FleetID",
          "type": "int",
          "required": true,
          "description": "Fleet identifier"
        },
        {
          "name": "@StartDate",
          "type": "datetime",
          "required": true,
          "description": "Start date for billing period"
        },
        {
          "name": "@EndDate",
          "type": "datetime",
          "required": true,
          "description": "End date for billing period"
        },
        {
          "name": "@CustomerID",
          "type": "varchar",
          "required": false,
          "description": "Customer filter"
        },
        {
          "name": "@TicketStatus",
          "type": "varchar",
          "required": false,
          "description": "Ticket status filter"
        },
        {
          "name": "@Division",
          "type": "varchar",
          "required": false,
          "description": "Division filter"
        },
        {
          "name": "@Adjustments",
          "type": "varchar",
          "required": false,
          "description": "Adjustments filter"
        },
        {
          "name": "@IncludeIntraCompany",
          "type": "bit",
          "required": true,
          "description": "Include intra-company transactions"
        },
        {
          "name": "@IncludeTicketsZeroAmount",
          "type": "bit",
          "required": true,
          "description": "Include zero amount tickets"
        }
      ],
      "resultColumns": [
        {"column": "TicketEventID", "property": "TicketEventID", "type": "int"},
        {"column": "TicketEventAdjustmentID", "property": "TicketEventAdjustmentID", "type": "int"},
        {"column": "IsReadyToInvoice", "property": "IsReadyToInvoice", "type": "bool"},
        {"column": "CustomerName", "property": "CustomerName", "type": "string"},
        {"column": "BargeNum", "property": "BargeNum", "type": "string"},
        {"column": "SizeCategory", "property": "SizeCategory", "type": "string"},
        {"column": "TicketID", "property": "TicketID", "type": "string"},
        {"column": "EventTypeName", "property": "EventTypeName", "type": "string"},
        {"column": "StartDateTime", "property": "StartDateTime", "type": "datetime"},
        {"column": "CompleteDateTime", "property": "CompleteDateTime", "type": "datetime"},
        {"column": "FromLocationName", "property": "FromLocationName", "type": "string"},
        {"column": "ToLocationName", "property": "ToLocationName", "type": "string"},
        {"column": "LoadStatus", "property": "LoadStatus", "type": "string"},
        {"column": "TicketStatus", "property": "TicketStatus", "type": "string"},
        {"column": "IsAdjustment", "property": "IsAdjustment", "type": "bool"},
        {"column": "CommodityName", "property": "CommodityName", "type": "string"},
        {"column": "NotDefault", "property": "NotDefault", "type": "bool"},
        {"column": "RateMissing", "property": "RateMissing", "type": "bool"},
        {"column": "TotalAmount", "property": "TotalAmount", "type": "string", "formatting": "FmtCurrencyTwoDecimal"},
        {"column": "Division", "property": "Division", "type": "string"},
        {"column": "BaseRate", "property": "BaseRate", "type": "string", "formatting": "FmtCurrencyTwoDecimal"},
        {"column": "RateType", "property": "RateType", "type": "string"},
        {"column": "Minimum", "property": "Minimum", "type": "string"},
        {"column": "MinimumAmount", "property": "MinimumAmount", "type": "string", "formatting": "FmtCurrencyTwoDecimal"},
        {"column": "FreeHours", "property": "FreeHours", "type": "string", "formatting": "FmtTwoDecimalPlaces"},
        {"column": "ProrateUnits", "property": "ProrateUnits", "type": "string"},
        {"column": "FleetingDays", "property": "FleetingDays", "type": "string"},
        {"column": "BaseAmount", "property": "BaseAmount", "type": "string", "formatting": "FmtCurrencyTwoDecimal"},
        {"column": "FuelSurchargeAmount", "property": "FuelSurchargeAmount", "type": "string", "formatting": "FmtCurrencyTwoDecimal"},
        {"column": "HighWaterAmount", "property": "HighWaterAmount", "type": "string", "formatting": "FmtCurrencyTwoDecimal"},
        {"column": "InvoiceNote", "property": "InvoiceNote", "type": "string"},
        {"column": "ModifyDateTime", "property": "ModifyDateTime", "type": "datetime"},
        {"column": "ModifyUser", "property": "ModifyUser", "type": "string"},
        {"column": "GLAccountNum", "property": "GLAccountNum", "type": "string"}
      ]
    },
    {
      "name": "TicketEventInsert",
      "operation": "Insert",
      "description": "Insert new TicketEvent record",
      "parameters": "All columns from TicketEventSelect except TicketEventID (output), CreateDateTime, CreateUser, ModifyDateTime, ModifyUser"
    },
    {
      "name": "TicketEventUpdate",
      "operation": "Update",
      "description": "Update existing TicketEvent record",
      "parameters": "All columns from TicketEventSelect except CreateDateTime, CreateUser, ModifyDateTime, ModifyUser"
    },
    {
      "name": "TicketEventDelete",
      "operation": "Delete",
      "description": "Delete TicketEvent record (likely sets VoidStatus instead of hard delete)",
      "parameters": [
        {
          "name": "@TicketEventID",
          "type": "int",
          "required": true,
          "description": "Primary key of the TicketEvent to delete"
        }
      ]
    }
  ],
  "sqlFiles": [
    {
      "fileName": "TicketEvent_GetById.sql",
      "operation": "GetById",
      "description": "Fetch single TicketEvent record by ID - converts stored procedure TicketEventSelect to SQL file",
      "basedOnStoredProcedure": "TicketEventSelect"
    },
    {
      "fileName": "TicketEvent_GetByTicketId.sql",
      "operation": "GetByTicketId",
      "description": "Fetch all TicketEvent records for a Ticket - converts stored procedure TicketEventsSelect to SQL file",
      "basedOnStoredProcedure": "TicketEventsSelect"
    },
    {
      "fileName": "BargeEvent_Search.sql",
      "operation": "Search",
      "description": "Search barge events with complex filtering - converts stored procedure BargeEventSearch to SQL file with ListQuery integration",
      "basedOnStoredProcedure": "BargeEventSearch"
    },
    {
      "fileName": "BargeEvent_BillingSearch.sql",
      "operation": "BillingSearch",
      "description": "Search barge events for billing - converts stored procedure BargeEventBillingSearch to SQL file with ListQuery integration",
      "basedOnStoredProcedure": "BargeEventBillingSearch"
    },
    {
      "fileName": "TicketEvent_Insert.sql",
      "operation": "Insert",
      "description": "Create new TicketEvent record - converts stored procedure TicketEventInsert to SQL file",
      "basedOnStoredProcedure": "TicketEventInsert"
    },
    {
      "fileName": "TicketEvent_Update.sql",
      "operation": "Update",
      "description": "Update existing TicketEvent record - converts stored procedure TicketEventUpdate to SQL file",
      "basedOnStoredProcedure": "TicketEventUpdate"
    },
    {
      "fileName": "TicketEvent_SetVoidStatus.sql",
      "operation": "SetVoidStatus",
      "description": "Soft delete TicketEvent by setting VoidStatus - converts stored procedure TicketEventDelete to SQL file (uses VoidStatus instead of IsActive)",
      "basedOnStoredProcedure": "TicketEventDelete",
      "note": "Uses VoidStatus field for soft delete, not IsActive"
    }
  ],
  "repositoryInterface": {
    "name": "ITicketEventRepository",
    "namespace": "Admin.Infrastructure.Abstractions",
    "filePath": "src/BargeOps.API/src/Admin.Infrastructure/Abstractions/ITicketEventRepository.cs",
    "methods": [
      {
        "name": "GetByIdAsync",
        "returnType": "Task<TicketEventDto>",
        "parameters": ["int ticketEventId", "CancellationToken cancellationToken = default"],
        "description": "Get single TicketEvent by ID"
      },
      {
        "name": "GetByTicketIdAsync",
        "returnType": "Task<IEnumerable<TicketEventDto>>",
        "parameters": ["int ticketId", "CancellationToken cancellationToken = default"],
        "description": "Get all TicketEvents for a Ticket"
      },
      {
        "name": "SearchAsync",
        "returnType": "Task<PagedResult<BargeEventSearchDto>>",
        "parameters": ["BargeEventSearchRequest request", "CancellationToken cancellationToken = default"],
        "description": "Search barge events with complex filtering"
      },
      {
        "name": "BillingSearchAsync",
        "returnType": "Task<PagedResult<BargeEventBillingDto>>",
        "parameters": ["BargeEventBillingSearchRequest request", "CancellationToken cancellationToken = default"],
        "description": "Search barge events for billing purposes"
      },
      {
        "name": "InsertAsync",
        "returnType": "Task<int>",
        "parameters": ["TicketEventDto ticketEvent", "CancellationToken cancellationToken = default"],
        "description": "Create new TicketEvent, returns TicketEventID"
      },
      {
        "name": "UpdateAsync",
        "returnType": "Task",
        "parameters": ["TicketEventDto ticketEvent", "CancellationToken cancellationToken = default"],
        "description": "Update existing TicketEvent"
      },
      {
        "name": "SetVoidStatusAsync",
        "returnType": "Task",
        "parameters": ["int ticketEventId", "byte voidStatus", "CancellationToken cancellationToken = default"],
        "description": "Soft delete TicketEvent by setting VoidStatus"
      }
    ]
  },
  "repositoryImplementation": {
    "name": "TicketEventRepository",
    "namespace": "Admin.Infrastructure.Repositories",
    "filePath": "src/BargeOps.API/src/Admin.Infrastructure/Repositories/TicketEventRepository.cs",
    "sqlResourcePattern": "Uses embedded SQL resources loaded via resource loading pattern (SqlText.GetSqlText or similar)",
    "dapperUsage": "All queries use Dapper with async/await pattern",
    "note": "Repository implementation should load SQL from embedded .sql files, not inline strings"
  },
  "listQueryFields": {
    "bargeEventSearch": {
      "filterable": [
        "FleetID",
        "EventRateID",
        "EventTypeID",
        "BillingCustomerID",
        "FromLocationID",
        "ToLocationID",
        "FleetBoatID",
        "StartDate",
        "EndDate",
        "IncludeVoided",
        "ContractNumber",
        "BargeList",
        "BargeLineCustomerID",
        "FreightCustomerID"
      ],
      "sortable": [
        "EventName",
        "BargeNum",
        "StartDateTime",
        "CompleteDateTime",
        "CustomerName",
        "Division"
      ],
      "defaultSort": "StartDateTime DESC"
    },
    "bargeEventBillingSearch": {
      "filterable": [
        "FleetID",
        "StartDate",
        "EndDate",
        "CustomerID",
        "TicketStatus",
        "Division",
        "Adjustments",
        "IncludeIntraCompany",
        "IncludeTicketsZeroAmount"
      ],
      "sortable": [
        "CustomerName",
        "TicketID",
        "EventTypeName",
        "StartDateTime",
        "CompleteDateTime",
        "TotalAmount",
        "Division"
      ],
      "defaultSort": "StartDateTime DESC"
    }
  },
  "dataTransformations": [
    {
      "field": "LoadUnloadTons",
      "transformation": "GetDecimalProp with FmtTwoDecimalPlaces",
      "description": "Format decimal tons to 2 decimal places"
    },
    {
      "field": "TotalAmount",
      "transformation": "GetCurrencyProp with FmtCurrencyTwoDecimal",
      "description": "Format currency to 2 decimal places with currency symbol"
    },
    {
      "field": "BaseAmount",
      "transformation": "GetCurrencyProp with FmtCurrencyTwoDecimal",
      "description": "Format currency to 2 decimal places with currency symbol"
    },
    {
      "field": "FuelSurchargeAmount",
      "transformation": "GetCurrencyProp with FmtCurrencyTwoDecimal",
      "description": "Format currency to 2 decimal places with currency symbol"
    },
    {
      "field": "HighWaterAmount",
      "transformation": "GetCurrencyProp with FmtCurrencyTwoDecimal",
      "description": "Format currency to 2 decimal places with currency symbol"
    },
    {
      "field": "MinimumAmount",
      "transformation": "GetCurrencyProp with FmtCurrencyTwoDecimal",
      "description": "Format currency to 2 decimal places with currency symbol"
    },
    {
      "field": "BaseRate",
      "transformation": "GetCurrencyProp with FmtCurrencyTwoDecimal",
      "description": "Format currency to 2 decimal places with currency symbol"
    },
    {
      "field": "FreeHours",
      "transformation": "GetDecimalProp with FmtTwoDecimalPlaces",
      "description": "Format decimal hours to 2 decimal places"
    },
    {
      "field": "StartDateTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern"
    },
    {
      "field": "CompleteDateTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern"
    },
    {
      "field": "CpDateTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern (conditional on Freight license)"
    },
    {
      "field": "ReleaseDateTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern (conditional on Freight license)"
    },
    {
      "field": "SchedTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern"
    },
    {
      "field": "EventTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern"
    },
    {
      "field": "ModifyDateTime",
      "transformation": "GetSmartDate with SmartDateTimeFormat",
      "description": "Format datetime with SmartDate pattern"
    }
  ],
  "dtoReferences": {
    "primary": {
      "name": "TicketEventDto",
      "namespace": "BargeOps.Shared.Dto",
      "filePath": "src/BargeOps.Shared/Dto/TicketEventDto.cs",
      "description": "Main DTO for TicketEvent entity",
      "toBeCreated": true
    },
    "search": {
      "name": "BargeEventSearchDto",
      "namespace": "BargeOps.Shared.Dto",
      "filePath": "src/BargeOps.Shared/Dto/BargeEventSearchDto.cs",
      "description": "DTO for BargeEvent search results",
      "toBeCreated": true
    },
    "billing": {
      "name": "BargeEventBillingDto",
      "namespace": "BargeOps.Shared.Dto",
      "filePath": "src/BargeOps.Shared/Dto/BargeEventBillingDto.cs",
      "description": "DTO for BargeEvent billing search results",
      "toBeCreated": true
    },
    "searchRequest": {
      "name": "BargeEventSearchRequest",
      "namespace": "BargeOps.Shared.Dto",
      "filePath": "src/BargeOps.Shared/Dto/BargeEventSearchRequest.cs",
      "description": "Request DTO for BargeEvent search with ListQuery support",
      "toBeCreated": true
    },
    "billingSearchRequest": {
      "name": "BargeEventBillingSearchRequest",
      "namespace": "BargeOps.Shared.Dto",
      "filePath": "src/BargeOps.Shared/Dto/BargeEventBillingSearchRequest.cs",
      "description": "Request DTO for BargeEvent billing search with ListQuery support",
      "toBeCreated": true
    }
  },
  "relatedEntities": {
    "children": [
      {
        "entity": "Barge",
        "relationship": "One-to-Many",
        "description": "A BargeEvent manages multiple Barge records"
      },
      {
        "entity": "BoatDelays",
        "relationship": "One-to-One",
        "description": "BargeEvent may have associated boat delays"
      },
      {
        "entity": "BoatTraffic",
        "relationship": "One-to-One",
        "description": "BargeEvent may have associated boat traffic"
      },
      {
        "entity": "DeckLogActivity",
        "relationship": "One-to-One",
        "description": "BargeEvent may have deck log activity (when towing delays enabled)"
      },
      {
        "entity": "OnboardOrder",
        "relationship": "One-to-Many",
        "description": "BargeEvent may have multiple onboard orders"
      },
      {
        "entity": "Location",
        "relationship": "Multiple",
        "description": "BargeEvent has multiple location references (BoatPosition, FleetBoatPositionStart, FleetBoatPositionEnd)"
      }
    ],
    "parent": [
      {
        "entity": "Ticket",
        "relationship": "Many-to-One",
        "description": "Multiple TicketEvents belong to one Ticket"
      }
    ]
  },
  "specialNotes": [
    "BargeEvent is a complex composite object that doesn't have its own database table - it coordinates TicketEvent and multiple child entities",
    "The underlying database entity is TicketEvent, not BargeEvent",
    "Uses VoidStatus for soft delete, not IsActive property",
    "BargeEvent requires PreProcessing method to be called before Update",
    "Complex business logic for managing multiple barges, delays, and freight contracts",
    "Freight-related fields are conditionally loaded based on Freight license activation",
    "Terminal, Onboard, Towing, and Freight features are license-dependent",
    "BargeEventSearch uses dynamic field visibility based on Freight license (CpDateTime, ReleaseDateTime, LoadUnloadTons, ContractNumber, IsDefaultTons)",
    "Data formatting includes currency (2 decimals), decimal (2 decimals), and SmartDate patterns",
    "Search operations support complex multi-criteria filtering including date ranges, customer filters, and barge lists",
    "Billing search includes financial calculations and GL account information",
    "The entity has extensive audit fields (CreateDateTime, CreateUser, ModifyDateTime, ModifyUser) managed by framework",
    "Repository should use Dapper with embedded SQL resources, NOT stored procedure calls directly"
  ],
  "implementationPriority": "High",
  "complexityRating": "Very High",
  "estimatedEffort": "Large - requires DTOs, repository, multiple SQL files, complex business logic migration"
}
