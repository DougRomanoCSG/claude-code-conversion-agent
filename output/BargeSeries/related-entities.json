{
  "parentEntity": "BargeSeries",
  "relationships": [
    {
      "relatedEntity": "BargeSeriesDraft",
      "relationshipType": "OneToMany",
      "parentProperty": "BargeSeriesDrafts",
      "childProperty": "BargeSeries",
      "foreignKey": "BargeSeriesID",
      "cascadeDelete": true,
      "gridName": "grdBargeSeriesDraft",
      "gridColumns": [
        {
          "key": "DraftFeet",
          "header": "Feet",
          "type": "Int32",
          "width": 50,
          "alignment": "Right",
          "cellActivation": "NoEdit"
        },
        {
          "key": "Tons00",
          "header": "0\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons01",
          "header": "1\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons02",
          "header": "2\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons03",
          "header": "3\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons04",
          "header": "4\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons05",
          "header": "5\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons06",
          "header": "6\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons07",
          "header": "7\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons08",
          "header": "8\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons09",
          "header": "9\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons10",
          "header": "10\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        },
        {
          "key": "Tons11",
          "header": "11\"",
          "type": "String",
          "width": 44,
          "alignment": "Right"
        }
      ],
      "operations": {
        "add": "ProcessBargeSeriesDraft",
        "edit": "ProcessBargeSeriesDraft",
        "delete": "Cascade",
        "paste": "PasteFromClipboard",
        "export": "ExportGrid"
      },
      "gridConfiguration": {
        "updateMode": "OnCellChangeOrLostFocus",
        "invalidValueBehavior": "RetainValueAndFocus",
        "nullText": "xxx",
        "allowColMoving": "NotAllowed",
        "allowColSizing": "None",
        "allowAddNew": "No",
        "allowUpdate": "True",
        "cellClickAction": "EditAndSelectText",
        "tabNavigation": "NextControlOnLastCell",
        "sortingDisabled": true,
        "defaultSortColumn": "DraftFeet",
        "defaultSortOrder": "Ascending"
      },
      "dataPattern": "InlineGrid",
      "loadingPattern": "BuildBargeSeriesDraftTable",
      "savingPattern": "ProcessBargeSeriesDraft"
    }
  ],
  "lookupRelationships": [
    {
      "property": "CustomerID",
      "lookupEntity": "Customer",
      "displayProperty": "CustomerName",
      "required": true,
      "validationMessage": "Customer is required"
    },
    {
      "property": "HullType",
      "lookupEntity": "ValidationList",
      "validationType": "HullType",
      "displayProperty": "Description",
      "required": true,
      "validationMessage": "Hull type is required"
    },
    {
      "property": "CoverType",
      "lookupEntity": "ValidationList",
      "validationType": "CoverType",
      "displayProperty": "Description",
      "required": true,
      "validationMessage": "Cover type is required"
    }
  ],
  "childEntityDetails": {
    "BargeSeriesDraft": {
      "primaryKey": "BargeSeriesDraftID",
      "foreignKey": "BargeSeriesID",
      "properties": [
        {
          "name": "DraftFeet",
          "type": "Int32",
          "required": true,
          "validation": "NonNegative"
        },
        {
          "name": "Tons00",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons01",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons02",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons03",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons04",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons05",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons06",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons07",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons08",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons09",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons10",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        },
        {
          "name": "Tons11",
          "type": "Int32",
          "required": false,
          "validation": "NonNegative"
        }
      ],
      "storedProcedures": {
        "insert": "BargeSeriesDraftInsert",
        "update": "BargeSeriesDraftUpdate",
        "delete": "BargeSeriesDraftDelete",
        "select": "BargeSeriesDraftSelect"
      },
      "updateParentKeys": true,
      "isChildCollection": true
    }
  },
  "cascadeBehavior": {
    "onParentDelete": {
      "BargeSeriesDraft": "Cascade"
    },
    "onParentUpdate": {
      "BargeSeriesDraft": "Cascade"
    }
  },
  "dataAccessPatterns": {
    "childCollectionLoading": "LazyLoad",
    "childCollectionProperty": "BargeSeriesDrafts",
    "childCollectionType": "BargeSeriesDrafts",
    "loadMethod": "GetBargeSeriesDrafts",
    "updateMethod": "UpdateChildObjects",
    "updateTransactional": true
  },
  "businessRules": {
    "parentValidation": [
      "Customer is required",
      "Series name is required (max 50 chars)",
      "Hull type is required (max 1 char)",
      "Cover type is required (max 3 chars)",
      "Length is required and must be non-negative",
      "Width is required and must be non-negative",
      "Depth is required and must be non-negative",
      "Tons/inch is required and must be non-negative",
      "Light draft is required and must be between 0 and 99.999"
    ],
    "childValidation": [
      "DraftFeet is required and must be non-negative",
      "All tonnage values (Tons00-Tons11) must be non-negative if specified"
    ],
    "crossEntityValidation": [
      "All draft tonnage values across BargeSeriesDrafts collection must be non-negative (enforced at parent level)"
    ]
  },
  "notes": [
    "BargeSeries has a one-to-many relationship with BargeSeriesDraft",
    "BargeSeriesDraft collection is managed via an inline editable grid",
    "Grid displays 14 fixed rows (0-13 feet) for draft measurements",
    "Each row has 12 inch columns (0-11 inches) for tonnage values",
    "Paste functionality allows bulk data entry from clipboard (CSV or Tab-delimited)",
    "Export functionality available via toolbar",
    "Grid uses 'xxx' placeholder for null/empty tonnage values",
    "ProcessBargeSeriesDraft method handles both insert and update operations for child entities",
    "Cascade delete is implemented in stored procedure BargeSeriesDelete",
    "Child collection uses lazy loading pattern - loaded on property access",
    "UpdateChildObjects called during parent save to persist child changes",
    "All operations are transactional via SqlTransaction parameter"
  ]
}
