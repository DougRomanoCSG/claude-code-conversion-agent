{
  "entity": "BargePositionHistory",
  "legacyForm": "frmBargePositionHistory",
  "modernEquivalent": "BargePositionHistorySearch (Index.cshtml + Edit.cshtml)",
  "targetPaths": {
    "viewModel": "src/BargeOps.UI/Models/BargePositionHistorySearchViewModel.cs",
    "controller": "src/BargeOps.UI/Controllers/BargePositionHistorySearchController.cs",
    "searchView": "src/BargeOps.UI/Views/BargePositionHistorySearch/Index.cshtml",
    "editView": "src/BargeOps.UI/Views/BargePositionHistorySearch/Edit.cshtml",
    "searchJs": "src/BargeOps.UI/wwwroot/js/bargePositionHistorySearch.js",
    "editJs": "src/BargeOps.UI/wwwroot/js/bargePositionHistoryEdit.js"
  },
  "controlMappings": [
    {
      "legacyControl": "UltraPanel (pnlDetailEdit)",
      "modernEquivalent": "Bootstrap Card",
      "usage": "Search form container",
      "html": "<div class=\"card mb-3\">\n    <div class=\"card-header\">Search Criteria</div>\n    <div class=\"card-body\">\n        <!-- Search form fields -->\n    </div>\n</div>",
      "bootstrapClasses": ["card", "card-header", "card-body", "mb-3"]
    },
    {
      "legacyControl": "UltraGroupBox (grpDetailEditList, grpDetailEditChild, grpSubmitCancel)",
      "modernEquivalent": "Bootstrap Card",
      "usage": "Group related controls with header",
      "html": "<div class=\"card\">\n    <div class=\"card-header\">Barge Positions</div>\n    <div class=\"card-body\">\n        <!-- Content -->\n    </div>\n</div>",
      "bootstrapClasses": ["card", "card-header", "card-body"]
    },
    {
      "legacyControl": "UltraDateTimeEditor (dtDateSearch, dtPositionStartDate)",
      "modernEquivalent": "SPLIT Date + Time Inputs (24-hour format)",
      "usage": "Date selection",
      "html": "<div class=\"row\">\n    <div class=\"col-md-6\">\n        <label asp-for=\"PositionStartDateTime\" class=\"form-label\">Date</label>\n        <input asp-for=\"PositionStartDateTime\" class=\"form-control\" type=\"date\" id=\"dtPositionDate\" />\n    </div>\n    <div class=\"col-md-6\">\n        <label class=\"form-label\">Time (24-hour)</label>\n        <input type=\"time\" class=\"form-control\" id=\"dtPositionTime\" />\n    </div>\n</div>",
      "bootstrapClasses": ["form-control", "form-label"],
      "javascript": {
        "splitFunction": "splitDateTime(dateTimeValue, 'dtPositionDate', 'dtPositionTime')",
        "combineFunction": "combineDateTime('dtPositionDate', 'dtPositionTime')",
        "displayFormat": "MM/dd/yyyy HH:mm (military time)"
      },
      "notes": "CRITICAL: DateTime fields MUST use separate date and time inputs with 24-hour military time format"
    },
    {
      "legacyControl": "UltraCombo (cboPositionStartTime)",
      "modernEquivalent": "HTML5 Time Input (24-hour format)",
      "usage": "Time selection with military time",
      "html": "<label class=\"form-label\">Time (24-hour)</label>\n<input type=\"time\" class=\"form-control\" id=\"dtPositionTime\" />",
      "bootstrapClasses": ["form-control", "form-label"],
      "notes": "Use type='time' for 24-hour format (HH:mm), NOT 12-hour with AM/PM"
    },
    {
      "legacyControl": "UltraCombo (cboTierGroupSearch, cboTierID)",
      "modernEquivalent": "Select2 Dropdown",
      "usage": "Searchable dropdown lists",
      "html": "<label asp-for=\"TierGroupId\" class=\"form-label\">Tier Group</label>\n<select asp-for=\"TierGroupId\" class=\"form-select\" data-select2=\"true\">\n    <option value=\"\">-- Select --</option>\n    <!-- Options populated from server -->\n</select>",
      "bootstrapClasses": ["form-select", "form-label"],
      "javascript": "$('#TierGroupId').select2({\n    placeholder: 'Select Tier Group',\n    allowClear: true,\n    width: '100%'\n});",
      "library": "Select2",
      "libraryVersion": "4.1.0-rc.0"
    },
    {
      "legacyControl": "UltraTextEditor (txtBargeNumSearch, txtBargeNum, txtTierX, txtTierY)",
      "modernEquivalent": "Bootstrap Text Input",
      "usage": "Text input fields",
      "html": "<label asp-for=\"BargeNum\" class=\"form-label\">Barge</label>\n<input asp-for=\"BargeNum\" class=\"form-control\" type=\"text\" />",
      "bootstrapClasses": ["form-control", "form-label"],
      "validation": {
        "html": "<span asp-validation-for=\"BargeNum\" class=\"text-danger\"></span>",
        "javascript": "jquery.validate and unobtrusive validation"
      }
    },
    {
      "legacyControl": "UltraCheckEditor (chkIncludeBlankTierPos, chkLeftFleet)",
      "modernEquivalent": "Bootstrap Checkbox",
      "usage": "Boolean selection",
      "html": "<div class=\"form-check\">\n    <input asp-for=\"IncludeBlankTierPos\" class=\"form-check-input\" type=\"checkbox\" />\n    <label asp-for=\"IncludeBlankTierPos\" class=\"form-check-label\">Include blank tier positions</label>\n</div>",
      "bootstrapClasses": ["form-check", "form-check-input", "form-check-label"]
    },
    {
      "legacyControl": "UltraGrid (grdDetailEditList)",
      "modernEquivalent": "DataTables with Server-Side Processing",
      "usage": "Data grid with sorting, filtering, paging",
      "html": "<table id=\"bargePositionHistoryTable\" class=\"table table-striped table-hover\">\n    <thead>\n        <tr>\n            <th>Actions</th>\n            <th>Date/Time</th>\n            <th>Barge</th>\n            <th>Left Fleet</th>\n            <th>Tier</th>\n            <th>Tier Pos</th>\n        </tr>\n    </thead>\n    <tbody></tbody>\n</table>",
      "bootstrapClasses": ["table", "table-striped", "table-hover"],
      "javascript": {
        "initialization": "$('#bargePositionHistoryTable').DataTable({\n    processing: true,\n    serverSide: true,\n    stateSave: true,\n    responsive: true,\n    ajax: {\n        url: '/BargePositionHistorySearch/BargePositionHistoryTable',\n        type: 'POST',\n        data: function(d) {\n            d.dateSearch = $('#DateSearch').val();\n            d.tierGroupId = $('#TierGroupId').val();\n            d.bargeNum = $('#BargeNum').val();\n            d.includeBlankTierPos = $('#IncludeBlankTierPos').is(':checked');\n        }\n    },\n    columns: [\n        {\n            data: null,\n            orderable: false,\n            searchable: false,\n            render: function(data, type, row) {\n                return '<div class=\"btn-group btn-group-sm\">' +\n                       '<a href=\"/BargePositionHistorySearch/Edit/' + row.fleetPositionHistoryId + '\" class=\"btn btn-sm btn-primary\"><i class=\"fas fa-edit\"></i></a>' +\n                       '</div>';\n            }\n        },\n        { data: 'positionStartDateTime', render: function(data) { return data || ''; } },\n        { data: 'bargeNum', defaultContent: '' },\n        { data: 'leftFleet', render: function(data) { return '<input type=\"checkbox\" ' + (data ? 'checked' : '') + ' disabled />'; } },\n        { data: 'tierName', defaultContent: '' },\n        { data: 'tierPos', defaultContent: '' }\n    ],\n    order: [[1, 'asc']],\n    pageLength: 25\n});",
        "searchTrigger": "$('#btnSearch').click(function() { dataTable.ajax.reload(); });",
        "resetTrigger": "$('#btnReset').click(function() { $('#searchForm')[0].reset(); dataTable.ajax.reload(); });"
      },
      "library": "DataTables",
      "libraryVersion": "1.13+",
      "notes": "Use server-side processing for large datasets, include stateSave for user preferences"
    },
    {
      "legacyControl": "UltraButton (btnFind, btnReset, btnSubmit, btnCancel, btnClose)",
      "modernEquivalent": "Bootstrap Button",
      "usage": "Action buttons",
      "html": "<button type=\"button\" id=\"btnSearch\" class=\"btn btn-primary\">Find</button>\n<button type=\"button\" id=\"btnReset\" class=\"btn btn-secondary\">Reset</button>\n<button type=\"submit\" class=\"btn btn-success\">Submit</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>",
      "bootstrapClasses": ["btn", "btn-primary", "btn-secondary", "btn-success"],
      "variants": {
        "primary": "btn-primary (Find, Submit)",
        "secondary": "btn-secondary (Reset, Cancel, Close)",
        "danger": "btn-danger (Remove/Delete)"
      }
    },
    {
      "legacyControl": "UltraToolbarsManager with ButtonTools (Add, Modify, Remove, Export)",
      "modernEquivalent": "Bootstrap Button Group",
      "usage": "Toolbar with action buttons above grid",
      "html": "<div class=\"btn-toolbar mb-3\" role=\"toolbar\">\n    <div class=\"btn-group me-2\" role=\"group\">\n        <button type=\"button\" class=\"btn btn-sm btn-success\" id=\"btnAdd\">\n            <i class=\"fas fa-plus\"></i> Add\n        </button>\n        <button type=\"button\" class=\"btn btn-sm btn-primary\" id=\"btnModify\" disabled>\n            <i class=\"fas fa-edit\"></i> Modify\n        </button>\n        <button type=\"button\" class=\"btn btn-sm btn-danger\" id=\"btnRemove\" disabled>\n            <i class=\"fas fa-trash\"></i> Remove\n        </button>\n    </div>\n    <div class=\"btn-group\" role=\"group\">\n        <button type=\"button\" class=\"btn btn-sm btn-secondary\" id=\"btnExport\">\n            <i class=\"fas fa-file-export\"></i> Export\n        </button>\n    </div>\n</div>",
      "bootstrapClasses": ["btn-toolbar", "btn-group", "btn-sm", "me-2"],
      "icons": "Font Awesome 6",
      "javascript": {
        "enableDisable": "function setToolbarState(hasSelection) {\n    $('#btnModify, #btnRemove').prop('disabled', !hasSelection);\n}\n\n$('#bargePositionHistoryTable').on('select.dt deselect.dt', function() {\n    var hasSelection = $('#bargePositionHistoryTable').DataTable().rows({ selected: true }).count() > 0;\n    setToolbarState(hasSelection);\n});"
      }
    },
    {
      "legacyControl": "UltraLabel",
      "modernEquivalent": "HTML Label with Bootstrap Classes",
      "usage": "Form field labels",
      "html": "<label asp-for=\"BargeNum\" class=\"form-label\">Barge:</label>",
      "bootstrapClasses": ["form-label"],
      "notes": "Use asp-for tag helper to associate label with input for accessibility"
    },
    {
      "legacyControl": "UltraStatusBar",
      "modernEquivalent": "Bootstrap Alert or Toast",
      "usage": "Status messages and notifications",
      "html": "<div id=\"statusMessage\" class=\"alert alert-info alert-dismissible fade show\" role=\"alert\" style=\"display:none;\">\n    <span id=\"statusText\"></span>\n    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n</div>",
      "bootstrapClasses": ["alert", "alert-info", "alert-dismissible", "fade", "show"],
      "javascript": "function showStatus(message, type) {\n    var alertClass = 'alert-' + (type || 'info');\n    $('#statusMessage').removeClass('alert-info alert-success alert-warning alert-danger')\n        .addClass(alertClass)\n        .find('#statusText').text(message).end()\n        .show();\n}"
    }
  ],
  "layoutPatterns": {
    "searchForm": {
      "description": "Top search panel with criteria fields",
      "layout": "Bootstrap Grid System (row/col)",
      "html": "<div class=\"card mb-3\">\n    <div class=\"card-header\">Search Criteria</div>\n    <div class=\"card-body\">\n        <form id=\"searchForm\">\n            <div class=\"row mb-3\">\n                <div class=\"col-md-3\">\n                    <label asp-for=\"DateSearch\" class=\"form-label\">Date</label>\n                    <input asp-for=\"DateSearch\" class=\"form-control\" type=\"date\" />\n                </div>\n                <div class=\"col-md-4\">\n                    <label asp-for=\"TierGroupId\" class=\"form-label\">Tier Group</label>\n                    <select asp-for=\"TierGroupId\" class=\"form-select\" data-select2=\"true\"></select>\n                </div>\n                <div class=\"col-md-3\">\n                    <label asp-for=\"BargeNum\" class=\"form-label\">Barge</label>\n                    <input asp-for=\"BargeNum\" class=\"form-control\" type=\"text\" />\n                </div>\n                <div class=\"col-md-2 d-flex align-items-end\">\n                    <button type=\"button\" id=\"btnSearch\" class=\"btn btn-primary w-100\">Find</button>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"form-check\">\n                        <input asp-for=\"IncludeBlankTierPos\" class=\"form-check-input\" type=\"checkbox\" />\n                        <label asp-for=\"IncludeBlankTierPos\" class=\"form-check-label\">Include blank tier positions</label>\n                    </div>\n                </div>\n                <div class=\"col-md-6 text-end\">\n                    <button type=\"button\" id=\"btnReset\" class=\"btn btn-secondary\">Reset</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>",
      "bootstrapClasses": ["row", "col-md-3", "col-md-4", "col-md-6", "mb-3", "d-flex", "align-items-end", "w-100", "text-end"]
    },
    "gridSection": {
      "description": "DataTables grid with toolbar",
      "layout": "Card with toolbar and table",
      "html": "<div class=\"card\">\n    <div class=\"card-header\">Barge Positions</div>\n    <div class=\"card-body\">\n        <div class=\"btn-toolbar mb-3\" role=\"toolbar\">\n            <!-- Toolbar buttons -->\n        </div>\n        <table id=\"bargePositionHistoryTable\" class=\"table table-striped table-hover\">\n            <!-- DataTables -->\n        </table>\n    </div>\n</div>"
    },
    "editDetailSection": {
      "description": "Detail edit form at bottom of grid (or separate page/modal)",
      "layout": "Card with form fields and submit/cancel buttons",
      "html": "<div class=\"card mt-3\">\n    <div class=\"card-header\">Detail</div>\n    <div class=\"card-body\">\n        <form id=\"editForm\">\n            <div class=\"row mb-3\">\n                <div class=\"col-md-3\">\n                    <label class=\"form-label\">Date</label>\n                    <input type=\"date\" class=\"form-control\" id=\"dtPositionDate\" />\n                </div>\n                <div class=\"col-md-2\">\n                    <label class=\"form-label\">Time (24-hour)</label>\n                    <input type=\"time\" class=\"form-control\" id=\"dtPositionTime\" />\n                </div>\n                <div class=\"col-md-3\">\n                    <label asp-for=\"BargeNum\" class=\"form-label\">Barge</label>\n                    <input asp-for=\"BargeNum\" class=\"form-control\" type=\"text\" />\n                </div>\n                <div class=\"col-md-2\">\n                    <div class=\"form-check mt-4\">\n                        <input asp-for=\"LeftFleet\" class=\"form-check-input\" type=\"checkbox\" />\n                        <label asp-for=\"LeftFleet\" class=\"form-check-label\">Left Fleet</label>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row mb-3\">\n                <div class=\"col-md-4\">\n                    <label asp-for=\"TierID\" class=\"form-label\">Tier</label>\n                    <select asp-for=\"TierID\" class=\"form-select\" data-select2=\"true\"></select>\n                </div>\n                <div class=\"col-md-2\">\n                    <label asp-for=\"TierX\" class=\"form-label\">Tier X</label>\n                    <input asp-for=\"TierX\" class=\"form-control\" type=\"number\" />\n                </div>\n                <div class=\"col-md-2\">\n                    <label asp-for=\"TierY\" class=\"form-label\">Tier Y</label>\n                    <input asp-for=\"TierY\" class=\"form-control\" type=\"number\" />\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-12 text-end\">\n                    <button type=\"submit\" class=\"btn btn-success\">Submit</button>\n                    <button type=\"button\" class=\"btn btn-secondary\" id=\"btnCancel\">Cancel</button>\n                </div>\n            </div>\n        </form>\n    </div>\n</div>",
      "notes": "Modern pattern: Consider separate Edit page or modal instead of inline edit panel"
    }
  },
  "formPatterns": {
    "searchForm": {
      "pattern": "Bootstrap form with row/col grid",
      "submitButton": "btn btn-primary",
      "resetButton": "btn btn-secondary",
      "validation": "jquery.validate and unobtrusive validation",
      "notes": "Search forms typically don't require validation, but detail forms do"
    },
    "detailEditForm": {
      "pattern": "Separate page or modal with validation",
      "submitButton": "btn btn-success",
      "cancelButton": "btn btn-secondary",
      "validation": {
        "clientSide": "jquery.validate with unobtrusive validation",
        "serverSide": "DataAnnotations on ViewModel",
        "displayFormat": "asp-validation-summary and asp-validation-for"
      }
    },
    "gridPattern": {
      "library": "DataTables",
      "serverSide": true,
      "stateSave": true,
      "responsive": true,
      "ordering": true,
      "searching": false,
      "paging": true,
      "pageLength": 25,
      "lengthMenu": [10, 25, 50, 100]
    }
  },
  "javascriptPatterns": {
    "dateTimeSplitCombine": {
      "description": "CRITICAL: Split datetime on load, combine on submit (24-hour format)",
      "splitFunction": "function splitDateTime(dateTimeValue, dateFieldId, timeFieldId) {\n    if (dateTimeValue) {\n        var date = new Date(dateTimeValue);\n        if (!isNaN(date.getTime())) {\n            $('#' + dateFieldId).val(date.toISOString().split('T')[0]);\n            var hours = ('0' + date.getHours()).slice(-2);\n            var minutes = ('0' + date.getMinutes()).slice(-2);\n            $('#' + timeFieldId).val(hours + ':' + minutes);\n        }\n    }\n}",
      "combineFunction": "function combineDateTime(dateFieldId, timeFieldId) {\n    var date = $('#' + dateFieldId).val();\n    var time = $('#' + timeFieldId).val();\n    return (date && time) ? date + 'T' + time + ':00' : (date ? date + 'T00:00:00' : '');\n}",
      "onLoad": "$(function() {\n    var positionDateTime = '@Model.PositionStartDateTime?.ToString(\"o\")';\n    if (positionDateTime) {\n        splitDateTime(positionDateTime, 'dtPositionDate', 'dtPositionTime');\n    }\n});",
      "onSubmit": "$('form').on('submit', function() {\n    var combined = combineDateTime('dtPositionDate', 'dtPositionTime');\n    if (combined) $('#dtPositionDate').val(combined);\n});"
    },
    "select2Initialization": {
      "description": "Initialize Select2 for all dropdowns",
      "code": "$(function() {\n    $('[data-select2=\"true\"]').select2({\n        placeholder: 'Select...',\n        allowClear: true,\n        width: '100%'\n    });\n});"
    },
    "dataTablesInitialization": {
      "description": "Initialize DataTables with server-side processing",
      "code": "var dataTable = $('#bargePositionHistoryTable').DataTable({\n    processing: true,\n    serverSide: true,\n    stateSave: true,\n    stateKey: 'bargePositionHistoryTable_v1',\n    responsive: true,\n    ajax: {\n        url: '/BargePositionHistorySearch/BargePositionHistoryTable',\n        type: 'POST',\n        data: function(d) {\n            d.dateSearch = $('#DateSearch').val();\n            d.tierGroupId = $('#TierGroupId').val();\n            d.bargeNum = $('#BargeNum').val();\n            d.includeBlankTierPos = $('#IncludeBlankTierPos').is(':checked');\n        }\n    },\n    columns: [\n        { data: null, orderable: false, render: function(data, type, row) { /* Actions */ } },\n        { data: 'positionStartDateTime' },\n        { data: 'bargeNum' },\n        { data: 'leftFleet', render: function(data) { return '<input type=\"checkbox\" ' + (data ? 'checked' : '') + ' disabled />'; } },\n        { data: 'tierName' },\n        { data: 'tierPos' }\n    ],\n    order: [[1, 'asc']],\n    pageLength: 25\n});"
    },
    "searchResetHandlers": {
      "description": "Handle search and reset button clicks",
      "code": "$('#btnSearch').click(function() {\n    dataTable.ajax.reload();\n});\n\n$('#btnReset').click(function() {\n    $('#searchForm')[0].reset();\n    $('#TierGroupId, #TierID').val('').trigger('change');\n    dataTable.ajax.reload();\n});"
    },
    "toolbarStateManagement": {
      "description": "Enable/disable toolbar buttons based on grid selection",
      "code": "function setToolbarState(hasSelection) {\n    $('#btnModify, #btnRemove').prop('disabled', !hasSelection);\n}\n\n$('#bargePositionHistoryTable').on('select.dt deselect.dt', function() {\n    var hasSelection = $('#bargePositionHistoryTable').DataTable().rows({ selected: true }).count() > 0;\n    setToolbarState(hasSelection);\n});"
    },
    "conditionalFieldControl": {
      "description": "Enable/disable fields based on checkbox state (e.g., LeftFleet)",
      "code": "$('#LeftFleet').on('change', function() {\n    var isChecked = $(this).is(':checked');\n    $('#TierID, #TierX, #TierY').prop('disabled', isChecked);\n    if (isChecked) {\n        $('#TierID').val('').trigger('change');\n        $('#TierX, #TierY').val('');\n    }\n});"
    }
  },
  "stylingGuidance": {
    "framework": "Bootstrap 5",
    "iconLibrary": "Font Awesome 6",
    "colorScheme": {
      "primary": "btn-primary (blue)",
      "secondary": "btn-secondary (gray)",
      "success": "btn-success (green)",
      "danger": "btn-danger (red)",
      "info": "alert-info (light blue)"
    },
    "spacing": {
      "marginBottom": "mb-3 (1rem)",
      "marginEnd": "me-2 (0.5rem)",
      "padding": "p-3 (1rem)"
    },
    "responsiveBreakpoints": {
      "small": "col-sm-* (≥576px)",
      "medium": "col-md-* (≥768px)",
      "large": "col-lg-* (≥992px)",
      "extraLarge": "col-xl-* (≥1200px)"
    }
  },
  "accessibilityConsiderations": {
    "labels": "All inputs MUST have associated <label> with asp-for tag helper",
    "ariaAttributes": {
      "required": "Add aria-required='true' for required fields",
      "invalid": "Add aria-invalid='true' for fields with validation errors",
      "describedBy": "Link validation messages with aria-describedby"
    },
    "buttonGroups": "Use role='group' and role='toolbar' for button groups",
    "checkboxes": "Use form-check, form-check-input, form-check-label classes",
    "focusManagement": "Ensure logical tab order and visible focus indicators"
  },
  "validationPatterns": {
    "clientSide": {
      "library": "jquery.validate + jquery.validate.unobtrusive",
      "html": "<span asp-validation-for=\"BargeNum\" class=\"text-danger\"></span>",
      "summary": "<div asp-validation-summary=\"ModelOnly\" class=\"alert alert-danger\"></div>"
    },
    "serverSide": {
      "dataAnnotations": "[Required], [StringLength], [Range], [RegularExpression]",
      "viewModel": "Apply validation attributes to ViewModel properties"
    },
    "customValidation": {
      "conditionalRequired": "Implement IValidatableObject for complex validation (e.g., LeftFleet disables TierID/TierX/TierY)"
    }
  },
  "migrationNotes": [
    "CRITICAL: ALL DateTime fields MUST be split into separate date and time inputs with 24-hour military time format",
    "DateTime display format MUST be MM/dd/yyyy HH:mm (NOT 12-hour with AM/PM)",
    "DateTime split on page load: splitDateTime(dateTimeValue, dateFieldId, timeFieldId)",
    "DateTime combine on submit: combineDateTime(dateFieldId, timeFieldId)",
    "Use DataTables with server-side processing for all grids (NOT custom jQuery tables)",
    "Use Select2 for all dropdowns to match legacy UltraCombo functionality",
    "Toolbar buttons implemented as Bootstrap button groups (NOT UltraToolbarsManager)",
    "Status bar replaced with Bootstrap alerts or toasts",
    "All panels and group boxes replaced with Bootstrap cards",
    "Use asp-for tag helpers for all form fields (labels and inputs)",
    "Implement jquery.validate with unobtrusive validation for all forms",
    "All styling MUST use Bootstrap 5 classes (NO inline styles)",
    "Consider separate Edit page or modal instead of inline edit panel for cleaner UX",
    "Legacy form uses BeginEdit/CancelEdit pattern - replace with standard form POST/GET pattern",
    "Grid selection state managed by DataTables (NOT manual tracking)",
    "Export functionality should use DataTables export extensions (buttons.html5)",
    "LeftFleet checkbox should conditionally enable/disable Tier fields using JavaScript",
    "Search form does not require validation, but detail form does",
    "Use Font Awesome 6 for all icons (fa-plus, fa-edit, fa-trash, fa-file-export)"
  ],
  "implementationPriority": [
    {
      "priority": 1,
      "task": "Create ViewModels for Search and Edit",
      "description": "Define BargePositionHistorySearchViewModel and BargePositionHistoryEditViewModel with validation attributes"
    },
    {
      "priority": 2,
      "task": "Create Controller with CRUD actions",
      "description": "BargePositionHistorySearchController with Index, BargePositionHistoryTable (DataTables), Edit, Create, Update, Delete actions"
    },
    {
      "priority": 3,
      "task": "Create Search View (Index.cshtml)",
      "description": "Bootstrap card layout with search form, DataTables grid, and toolbar"
    },
    {
      "priority": 4,
      "task": "Create Edit View (Edit.cshtml)",
      "description": "Bootstrap form with SPLIT datetime inputs (24-hour format), dropdowns with Select2, validation"
    },
    {
      "priority": 5,
      "task": "Create JavaScript files",
      "description": "bargePositionHistorySearch.js (DataTables, Select2, search handlers) and bargePositionHistoryEdit.js (datetime split/combine, conditional fields)"
    },
    {
      "priority": 6,
      "task": "Implement DataTables server-side action",
      "description": "BargePositionHistoryTable action in controller to handle DataTables AJAX requests"
    },
    {
      "priority": 7,
      "task": "Test datetime split/combine functionality",
      "description": "Verify 24-hour military time format, proper split on load, combine on submit"
    },
    {
      "priority": 8,
      "task": "Test conditional field logic",
      "description": "Verify LeftFleet checkbox disables/enables Tier fields correctly"
    }
  ],
  "referenceFiles": {
    "legacyForm": "C:\\Dev\\BargeOps.Admin.Mono\\OnShore\\apps\\Onshore\\Forms\\frmBargePositionHistory.vb",
    "legacyDesigner": "C:\\Dev\\BargeOps.Admin.Mono\\OnShore\\apps\\Onshore\\Forms\\frmBargePositionHistory.designer.vb",
    "modernSearchJs": "C:\\Dev\\BargeOps.Admin.Mono\\src\\BargeOps.UI\\wwwroot\\js\\boatLocationSearch.js",
    "modernSearchView": "C:\\Dev\\BargeOps.Admin.Mono\\src\\BargeOps.UI\\Views\\BoatLocationSearch\\Index.cshtml"
  }
}
