{
  "entity": "BargeDailyExpense",
  "parentEntity": "BargeDailyExpenseDate",
  "softDelete": false,
  "hasIsActive": false,
  "storedProcedures": [
    {
      "name": "BargeDailyExpenseSelect",
      "operation": "GetById",
      "parameters": [
        {
          "name": "@BargeDailyExpenseID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true,
          "description": "Primary key for fetching single record"
        }
      ],
      "resultColumns": [
        {
          "column": "BargeDailyExpenseID",
          "property": "BargeDailyExpenseID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int"
        },
        {
          "column": "BargeDailyExpenseDateID",
          "property": "BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "description": "Foreign key to parent BargeDailyExpenseDate"
        },
        {
          "column": "DailyExpense",
          "property": "DailyExpense",
          "type": "decimal",
          "sqlDbType": "SqlDbType.Money",
          "description": "Daily expense amount (currency)"
        },
        {
          "column": "SizeCategory",
          "property": "SizeCategory",
          "type": "string",
          "sqlDbType": "SqlDbType.VarChar",
          "maxLength": 15
        },
        {
          "column": "CoverType",
          "property": "CoverType",
          "type": "string",
          "sqlDbType": "SqlDbType.VarChar",
          "maxLength": 3
        },
        {
          "column": "CoverSubTypeID",
          "property": "CoverSubTypeID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "description": "Stored as string in VB, but is actually int"
        },
        {
          "column": "IsCharteredIn",
          "property": "IsCharteredIn",
          "type": "bool",
          "sqlDbType": "SqlDbType.Bit"
        }
      ]
    },
    {
      "name": "BargeDailyExpensesSelect",
      "operation": "GetAll",
      "description": "Fetches all BargeDailyExpense records (typically by parent)",
      "parameters": [],
      "resultColumns": "Same as BargeDailyExpenseSelect"
    },
    {
      "name": "BargeDailyExpenseInsert",
      "operation": "Insert",
      "parameters": [
        {
          "name": "@BargeDailyExpenseID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "direction": "InputOutput",
          "description": "Primary key (identity), returned as output"
        },
        {
          "name": "@BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        },
        {
          "name": "@DailyExpense",
          "type": "decimal",
          "sqlDbType": "SqlDbType.Money",
          "required": true,
          "businessRule": "Cannot be null or empty"
        },
        {
          "name": "@SizeCategory",
          "type": "string",
          "sqlDbType": "SqlDbType.VarChar",
          "maxLength": 15
        },
        {
          "name": "@CoverType",
          "type": "string",
          "sqlDbType": "SqlDbType.VarChar",
          "maxLength": 3
        },
        {
          "name": "@CoverSubTypeID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int"
        },
        {
          "name": "@IsCharteredIn",
          "type": "bool",
          "sqlDbType": "SqlDbType.Bit"
        }
      ],
      "outputParameters": [
        {
          "name": "@BargeDailyExpenseID",
          "description": "Returns newly created identity value"
        }
      ]
    },
    {
      "name": "BargeDailyExpenseUpdate",
      "operation": "Update",
      "parameters": [
        {
          "name": "@BargeDailyExpenseID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        },
        {
          "name": "@BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        },
        {
          "name": "@DailyExpense",
          "type": "decimal",
          "sqlDbType": "SqlDbType.Money",
          "required": true
        },
        {
          "name": "@SizeCategory",
          "type": "string",
          "sqlDbType": "SqlDbType.VarChar",
          "maxLength": 15
        },
        {
          "name": "@CoverType",
          "type": "string",
          "sqlDbType": "SqlDbType.VarChar",
          "maxLength": 3
        },
        {
          "name": "@CoverSubTypeID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int"
        },
        {
          "name": "@IsCharteredIn",
          "type": "bool",
          "sqlDbType": "SqlDbType.Bit"
        }
      ]
    },
    {
      "name": "BargeDailyExpenseDelete",
      "operation": "Delete",
      "description": "Hard delete operation",
      "parameters": [
        {
          "name": "@BargeDailyExpenseID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        }
      ]
    },
    {
      "name": "BargeDailyExpenseDateSearch",
      "operation": "Search",
      "description": "Search for BargeDailyExpenseDate records by effective date",
      "parameters": [
        {
          "name": "@EffectiveDate",
          "type": "DateTime",
          "sqlDbType": "SqlDbType.DateTime",
          "required": true,
          "description": "Search criteria for effective date"
        }
      ],
      "resultColumns": [
        {
          "column": "BargeDailyExpenseDateID",
          "property": "BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int"
        },
        {
          "column": "EffectiveDate",
          "property": "EffectiveDate",
          "type": "DateTime",
          "sqlDbType": "SqlDbType.DateTime",
          "description": "Displayed as SmartDate in UI"
        }
      ]
    },
    {
      "name": "BargeDailyExpenseDateSelect",
      "operation": "GetById",
      "description": "Fetch BargeDailyExpenseDate with child expenses",
      "parameters": [
        {
          "name": "@BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        }
      ],
      "resultColumns": [
        {
          "column": "BargeDailyExpenseDateID",
          "property": "BargeDailyExpenseDateID",
          "type": "int"
        },
        {
          "column": "EffectiveDate",
          "property": "EffectiveDate",
          "type": "DateTime"
        }
      ],
      "childResults": [
        {
          "resultSet": 2,
          "entity": "BargeDailyExpense",
          "description": "Child BargeDailyExpense records loaded via NextResult()"
        }
      ]
    },
    {
      "name": "BargeDailyExpenseDatesSelect",
      "operation": "GetAll",
      "description": "Fetch all BargeDailyExpenseDate records",
      "parameters": []
    },
    {
      "name": "BargeDailyExpenseDateInsert",
      "operation": "Insert",
      "parameters": [
        {
          "name": "@BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "direction": "InputOutput"
        },
        {
          "name": "@EffectiveDate",
          "type": "DateTime",
          "sqlDbType": "SqlDbType.DateTime",
          "required": true,
          "businessRule": "Cannot be empty"
        }
      ],
      "outputParameters": [
        {
          "name": "@BargeDailyExpenseDateID",
          "description": "Returns newly created identity value"
        }
      ]
    },
    {
      "name": "BargeDailyExpenseDateUpdate",
      "operation": "Update",
      "parameters": [
        {
          "name": "@BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        },
        {
          "name": "@EffectiveDate",
          "type": "DateTime",
          "sqlDbType": "SqlDbType.DateTime",
          "required": true
        }
      ]
    },
    {
      "name": "BargeDailyExpenseDateDelete",
      "operation": "Delete",
      "description": "Hard delete operation",
      "parameters": [
        {
          "name": "@BargeDailyExpenseDateID",
          "type": "int",
          "sqlDbType": "SqlDbType.Int",
          "required": true
        }
      ]
    }
  ],
  "sqlFiles": [
    {
      "fileName": "BargeDailyExpense_GetById.sql",
      "operation": "GetById",
      "description": "Fetch single BargeDailyExpense record by ID",
      "legacyStoredProcedure": "BargeDailyExpenseSelect"
    },
    {
      "fileName": "BargeDailyExpense_GetByParentId.sql",
      "operation": "GetByParentId",
      "description": "Fetch BargeDailyExpense records by BargeDailyExpenseDateID",
      "legacyStoredProcedure": "BargeDailyExpensesSelect",
      "parameters": ["@BargeDailyExpenseDateID"]
    },
    {
      "fileName": "BargeDailyExpense_Insert.sql",
      "operation": "Insert",
      "description": "Create new BargeDailyExpense record",
      "legacyStoredProcedure": "BargeDailyExpenseInsert"
    },
    {
      "fileName": "BargeDailyExpense_Update.sql",
      "operation": "Update",
      "description": "Update existing BargeDailyExpense record",
      "legacyStoredProcedure": "BargeDailyExpenseUpdate"
    },
    {
      "fileName": "BargeDailyExpense_Delete.sql",
      "operation": "Delete",
      "description": "Hard delete BargeDailyExpense record (no soft delete)",
      "legacyStoredProcedure": "BargeDailyExpenseDelete"
    },
    {
      "fileName": "BargeDailyExpenseDate_GetById.sql",
      "operation": "GetById",
      "description": "Fetch BargeDailyExpenseDate with child expenses",
      "legacyStoredProcedure": "BargeDailyExpenseDateSelect",
      "includesChildRecords": true
    },
    {
      "fileName": "BargeDailyExpenseDate_Search.sql",
      "operation": "Search",
      "description": "Search BargeDailyExpenseDate by effective date",
      "legacyStoredProcedure": "BargeDailyExpenseDateSearch"
    },
    {
      "fileName": "BargeDailyExpenseDate_Insert.sql",
      "operation": "Insert",
      "description": "Create new BargeDailyExpenseDate record",
      "legacyStoredProcedure": "BargeDailyExpenseDateInsert"
    },
    {
      "fileName": "BargeDailyExpenseDate_Update.sql",
      "operation": "Update",
      "description": "Update existing BargeDailyExpenseDate record",
      "legacyStoredProcedure": "BargeDailyExpenseDateUpdate"
    },
    {
      "fileName": "BargeDailyExpenseDate_Delete.sql",
      "operation": "Delete",
      "description": "Hard delete BargeDailyExpenseDate record",
      "legacyStoredProcedure": "BargeDailyExpenseDateDelete"
    }
  ],
  "repositoryInterface": {
    "name": "IBargeDailyExpenseRepository",
    "namespace": "Admin.Infrastructure.Abstractions",
    "path": "src/BargeOps.API/src/Admin.Infrastructure/Abstractions/",
    "methods": [
      {
        "name": "GetByIdAsync",
        "returnType": "Task<BargeDailyExpense>",
        "parameters": ["int id"],
        "sqlFile": "BargeDailyExpense_GetById.sql"
      },
      {
        "name": "GetByParentIdAsync",
        "returnType": "Task<IEnumerable<BargeDailyExpense>>",
        "parameters": ["int bargeDailyExpenseDateId"],
        "sqlFile": "BargeDailyExpense_GetByParentId.sql"
      },
      {
        "name": "InsertAsync",
        "returnType": "Task<int>",
        "parameters": ["BargeDailyExpense entity"],
        "sqlFile": "BargeDailyExpense_Insert.sql",
        "description": "Returns newly created BargeDailyExpenseID"
      },
      {
        "name": "UpdateAsync",
        "returnType": "Task",
        "parameters": ["BargeDailyExpense entity"],
        "sqlFile": "BargeDailyExpense_Update.sql"
      },
      {
        "name": "DeleteAsync",
        "returnType": "Task",
        "parameters": ["int id"],
        "sqlFile": "BargeDailyExpense_Delete.sql"
      }
    ]
  },
  "parentRepositoryInterface": {
    "name": "IBargeDailyExpenseDateRepository",
    "namespace": "Admin.Infrastructure.Abstractions",
    "path": "src/BargeOps.API/src/Admin.Infrastructure/Abstractions/",
    "methods": [
      {
        "name": "GetByIdAsync",
        "returnType": "Task<BargeDailyExpenseDate>",
        "parameters": ["int id"],
        "sqlFile": "BargeDailyExpenseDate_GetById.sql",
        "description": "Loads parent with child expenses"
      },
      {
        "name": "SearchByEffectiveDateAsync",
        "returnType": "Task<IEnumerable<BargeDailyExpenseDate>>",
        "parameters": ["DateTime effectiveDate"],
        "sqlFile": "BargeDailyExpenseDate_Search.sql"
      },
      {
        "name": "InsertAsync",
        "returnType": "Task<int>",
        "parameters": ["BargeDailyExpenseDate entity"],
        "sqlFile": "BargeDailyExpenseDate_Insert.sql"
      },
      {
        "name": "UpdateAsync",
        "returnType": "Task",
        "parameters": ["BargeDailyExpenseDate entity"],
        "sqlFile": "BargeDailyExpenseDate_Update.sql"
      },
      {
        "name": "DeleteAsync",
        "returnType": "Task",
        "parameters": ["int id"],
        "sqlFile": "BargeDailyExpenseDate_Delete.sql"
      }
    ]
  },
  "listQueryFields": {
    "filterable": [
      "EffectiveDate"
    ],
    "sortable": [
      "EffectiveDate",
      "BargeDailyExpenseDateID"
    ],
    "defaultSort": "EffectiveDate DESC"
  },
  "dtoStructure": {
    "dtoName": "BargeDailyExpenseDto",
    "namespace": "BargeOps.Shared.Dto",
    "path": "src/BargeOps.Shared/BargeOps.Shared/Dto/",
    "properties": [
      {
        "name": "BargeDailyExpenseID",
        "type": "int",
        "description": "Primary key"
      },
      {
        "name": "BargeDailyExpenseDateID",
        "type": "int",
        "description": "Foreign key to parent"
      },
      {
        "name": "DailyExpense",
        "type": "decimal",
        "description": "Daily expense amount"
      },
      {
        "name": "SizeCategory",
        "type": "string",
        "nullable": true,
        "maxLength": 15
      },
      {
        "name": "CoverType",
        "type": "string",
        "nullable": true,
        "maxLength": 3
      },
      {
        "name": "CoverSubTypeID",
        "type": "int?",
        "nullable": true
      },
      {
        "name": "IsCharteredIn",
        "type": "bool"
      }
    ]
  },
  "parentDtoStructure": {
    "dtoName": "BargeDailyExpenseDateDto",
    "namespace": "BargeOps.Shared.Dto",
    "path": "src/BargeOps.Shared/BargeOps.Shared/Dto/",
    "properties": [
      {
        "name": "BargeDailyExpenseDateID",
        "type": "int",
        "description": "Primary key"
      },
      {
        "name": "EffectiveDate",
        "type": "DateTime",
        "description": "Effective date for this set of daily expenses"
      },
      {
        "name": "BargeDailyExpenses",
        "type": "List<BargeDailyExpenseDto>",
        "description": "Child collection of daily expenses"
      }
    ]
  },
  "dataTransformations": [
    {
      "field": "DailyExpense",
      "transformation": "Currency formatting from string to decimal",
      "notes": "VB uses GetCurrencyProp/SetCurrencyProp for string storage, should be decimal in C#"
    },
    {
      "field": "EffectiveDate",
      "transformation": "SmartDate to DateTime",
      "notes": "VB uses SmartDate with custom format, C# should use DateTime"
    },
    {
      "field": "CoverSubTypeID",
      "transformation": "String to int",
      "notes": "VB stores as string but uses SetInt32Prop, should be int? in C#"
    }
  ],
  "businessRules": [
    {
      "field": "DailyExpense",
      "rule": "Required",
      "description": "Cannot be null or empty"
    },
    {
      "field": "SizeCategory",
      "rule": "MaxLength",
      "value": 15
    },
    {
      "field": "CoverType",
      "rule": "MaxLength",
      "value": 3
    },
    {
      "field": "EffectiveDate",
      "rule": "Required",
      "description": "Cannot be empty (parent entity)"
    }
  ],
  "parentChildRelationship": {
    "parentEntity": "BargeDailyExpenseDate",
    "childEntity": "BargeDailyExpense",
    "foreignKey": "BargeDailyExpenseDateID",
    "loadPattern": "Eager loading via NextResult() in stored procedure",
    "updatePattern": "Cascade updates through parent, children updated via transaction",
    "clonePattern": "CopyBargeDailyExpenseDate creates deep clone with new IDs"
  },
  "notes": [
    "This is a parent-child entity structure with BargeDailyExpenseDate as parent",
    "No soft delete - both entities use hard delete",
    "Child records loaded eagerly with parent via multi-result set query",
    "BargeDailyExpenseDate has a Clone/Copy pattern for duplicating expense sets",
    "Search list (BargeDailyExpenseDateSearch) is not cached due to search parameters",
    "Currency values stored as strings in VB but should be decimal in modern C#",
    "SmartDate pattern should be replaced with DateTime",
    "All SQL should be extracted to embedded resource files",
    "Repository should use SqlText.GetSqlText() pattern",
    "Both entities support full CRUD operations",
    "Child collection updates are managed through parent transaction"
  ]
}
